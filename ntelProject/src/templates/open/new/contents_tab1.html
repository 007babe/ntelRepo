{#################################}
{% load staticfiles %}
{#################################}

<!-- 탭 본문 : 단말기 Start -->
<div id="divContents01">
    <table class="t-table">
        <colgroup>
            <col width="86">
            <col width="114">
            <col width="86">
            <col width="114">
            <col width="86">
            <col width="114">
            <col width="86">
            <col width="114">
        </colgroup>
        <tbody>
            <tr>
                <td class="t-label t-l-w">판매자</td>
                <td class="t-content t-c-w">
                    <span>
                        <select formType="staffSel" class="form-control form-box" id="sellerNm" name="sellerNm" triggerEvent="change">
                        </select>
                    </span>
                </td>
                <td class="t-label t-l-w">정책</td>
                <td class="t-content t-c-w al">
                    <span>
                        <input type="text" id="policyNm" class="form-control form-box" style="width: 90px; text-align: right;"> 호
                    </span>
                </td>
                <td class="t-white" colspan="4"></td>
            </tr>
            <tr>
                <td class="t-label t-l-w">단말기</td>
                <td class="t-content t-c-w al" colspan="3">
                    <span style="display: inline-block; width:200px;">
                        <select id="modelInfo" name="modelInfo" formType="chosen" sWidth="300" tabPrev="policyNm" data-placeholder="단말기를 선택하세요." dataKey="GD_PROD_PHONE" optGroup="telecomCd" loadData="Y" class="chosen-select form-control form-box">
                            <option prodCd="" telecomCd="" netType="" phoneType="" serialNo="" color="" agentCd="" agentNm="" prodInDt="" prodInPrice="" modelCd="" dvalue="" value=""></option>
                        </select>
                    </span>
                    <span style="display: inline-block;">
                        <button id="quickInStockPhone" class="form-btn form-btn-n" style="width: 100px;" type="button" tabindex="-1"><strong>간편입고</strong></button>
                    </span>
                </td>
                <td class="t-label t-l-w">유심</td>
                <td class="t-content t-c-w al" colspan="3">
                    <span style="display: inline-block; width:200px;">
                        <select id="usimInfo" name="usimInfo" formType="chosen" sWidth="300" tabPrev="modelInfo_chosen" dispAttr="value" data-placeholder="유심을 선택하세요." class="chosen-select form-control form-box" disabled>
                            <option prodCd="" telecomCd="" usimType="" usimModelCd="" serialNo="" agentCd="" agentNm="" prodInDt="" prodInPrice="" payType="" dValue="" value=""></option>
                        </select>
                    </span>
                    <span>
                        <button id="quickInStockUsim" class="form-btn form-btn-n" style="width: 100px;" type="button" tabindex="-1"><strong>간편입고</strong></button>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="t-label t-l-w">일련번호</td>
                <td class="t-content t-c-w ac"><span id="spanSerialNo"></span></td>
                <td class="t-label t-l-w">색상</td>
                <td class="t-content t-c-w"><span id="spanColor"></span></td>
                <td class="t-label t-l-w">일련번호</td>
                <td class="t-content t-c-w ar" colspan="3">
                    <span style="width: 160px; text-align: center;display: inline-block;" id="spanUsimSerialNo"></span>
                    <span style="text-align: right;">
                        <select class="form-control form-box" style="width: 140px;" id="usimInPayType" name="usimInPayType" disabled>
                        </select>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="t-label t-l-w">단말기입고</td>
                <td class="t-content t-c-w">
                    <span id="spanAgentNm"></span>
                    <span style="font-size: 10px; color: red;" id="spanProdInDt"></span>
                </td>
                <td class="t-label t-l-w">입고가</td>
                <td class="t-content t-c-w ar">
                    <span id="spanDispProdInPrice" class="disp-n">
                        <span class="span-money">
                            <span id="spanProdInPrice">0</span><span class="span-won">원</span>
                        </span>
                    </span>
                </td>
                <td class="t-label t-l-w">유심입고</td>
                <td class="t-content t-c-w">
                    <span id="spanUsimAgentNm"></span>
                    <span style="font-size: 10px; color: red;" id="spanUsimInDt"></span>
                </td>
                <td class="t-label t-l-w">입고가</td>
                <td class="t-content t-c-w ar">
                    <span id="spanDispUsimInPrice" class="disp-n">
                        <span class="span-money">
                            <span id="spanUsimInPrice">0</span><span class="span-won">원</span>
                        </span>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="t-white al" colspan="4"></td>
                <td class="t-white al" colspan="4"><span style="font-size: 11px; color: #717071;">-유심입고시 선결제/후결제 구분 부탁드립니다.</span></td>
            </tr>
            <tr>
                <td class="t-label t-l-w">개통일</td>
                <td class="t-content t-c-w al">
                    <span style="display: inline-block; vertical-align:middle;">
                        <span class="form-group">
                            <div formType="datePicker" class="input-group date">
                                <span>
                                    <input id="openDt" type="text" nowDate="YYYY-MM-DD" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                </span>
                                <span class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </span>
                            </div>
                        </span>
                    </span>
                </td>
                <td class="t-label t-l-w">고객명</td>
                <td class="t-content t-c-w">
                    <span>
                        <input type="text" id="custNm" name="custNm" class="form-control form-box ac" value="">
                    </span>
                </td>
                <td class="t-label t-l-w">개통번호</td>
                <td class="t-content t-c-w al" colspan="4">
                    <span>
                        <select class="form-control form-box" style="width: 50px;" id="mobileNo1" name="mobileNo1" formType="comSel" grpCd="G0019">
                        </select>
                    </span>
                    <span>
                        <input type="text" id="mobileNo2" name="mobileNo2" formType="tel2" tabNext="mobileNo3" class="form-control form-box" style="width: 70px; text-align: center;" maxlength="4" value="">
                    </span>
                    <span>
                        <input type="text" id="mobileNo3" name="mobileNo3" formType="tel3" tabNext="telNo1" class="form-control form-box" style="width: 70px; text-align: center;" maxlength="4" value="">
                    </span>
                </td>
            </tr>
            <tr>
                <td class="t-white" colspan="4"></td>
                <td class="t-label t-l-w">연락처</td>
                <td class="t-content t-c-w al" colspan="4">
                    <span>
                        <input type="text" id="telNo1" name="telNo1" formType="tel1" tabNext="telNo2" class="form-control form-box" style="width: 50px; text-align: center;" maxlength="4" value="">
                    </span>
                    <span>
                        <input type="text" id="telNo2" name="telNo2" formType="tel2" tabNext="telNo3" class="form-control form-box" style="width: 70px; text-align: center;" maxlength="4" value="">
                    </span>
                    <span>
                        <input type="text" id="telNo3" name="telNo3" formType="tel3" tabNext="telecomCallPlan_chosen" class="form-control form-box" style="width: 70px; text-align: center;" maxlength="4" value="">
                    </span>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="tabs-container">
        <ul id="ulTabPayType" tabCode="10" class="nav nav-tabs">
            <li code="10" class="active"><a class="p-tab" data-toggle="tab" href="#tab-1-1">할부</a></li>
            <li code="20" class=""><a class="p-tab" data-toggle="tab" href="#tab-1-2">현금</a></li>
        </ul>
        <div class="tab-content ibox-content tab">
            <table class="t-table">
                <colgroup>
                    <col width="86">
                    <col width="114">
                    <col width="86">
                    <col width="114">
                    <col width="86">
                    <col width="114">
                    <col width="86">
                    <col width="114">
                </colgroup>
                <tbody>
                    <tr>
                        <td class="t-green-line" style="min-height: 1px; background-color: #1ab394;" colspan="8"></td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">요금제</td>
                        <td class="t-content t-c-w al" colspan="3">
                            <span style="display: inline-block; width: 180px;">
                                <select id="telecomCallPlan" name="telecomCallPlan" formType="chosen" sWidth="300" tabPrev="telNo3" data-placeholder="요금제를 선택하세요." class="chosen-select form-control form-box" disabled>
                                    <option value="" telecomCd="" netType="" phoneType="" planGrp="" telecomPlanType="" telecomPlanGrp="" planNm=""></option>
                                </select>
                            </span>
                            <span style="font-size: 11px; color: #717071;">유지</span>
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divKeepDt" formType="datePicker" class="input-group date" disabled>
                                        <span>
                                            <input id="keepDt" type="text" class="form-control form-box" style="width: 70px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">변경예정</td>
                        <td class="t-content t-c-w al" colspan="3">
                            <span style="display: inline-block; width:180px;">
                                <select id="telecomCallPlanChg" name="telecomCallPlanChg" formType="chosen" sWidth="300" tabPrev="keepDt" data-placeholder="요금제를 선택하세요." class="chosen-select form-control form-box" disabled>
                                    <option value="" telecomCd="" netType="" phoneType="" planGrp="" telecomPlanType="" telecomPlanGrp="" planNm=""></option>
                                </select>
                            </span>
                            <span>
                                <input type="text" id="chgComment" class="form-control form-box" style="width: 115px; text-align: left;" value="" disabled>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="border-n padd-n" colspan="4">
                            <div>
                                <table class="i-table">
                                    <colgroup>
                                        <col width="86">
                                        <col width="114">
                                        <col width="86">
                                        <col width="114">
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <td class="t-label t-l-w padd-n">
                                                <span class="l3" value="N" id="spanSptAmtType" style="display:inline-block; width: 100%;line-height: 27px; text-align:center;">공시</span>
                                            </td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="sptAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">추가지원금</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="addSptAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="t-label t-l-w">포인트</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="pointAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> P
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">세이브카드</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="saveCardAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                        
                                            <td class="t-label t-l-w">
                                                <span toggleId="payTypePhone">선납금</span>
                                                <span toggleId="payTypePhone" class="disp-n">할인금액</span>
                                            </td>
                                            <td class="t-content t-c-w al">
                                                <span toggleId="payTypePhone">
                                                    <input type="text" id="prePayAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                                <span toggleId="payTypePhone" class="disp-n">
                                                    <span class="span-money">
                                                        <span id="spanMipOrgAmt">0</span>
                                                        <span class="span-won">원</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">
                                                <span toggleId="payTypePhone">할부원금</span>
                                                <span toggleId="payTypePhone" class="disp-n">현금가</span>
                                            </td>
                                            <td class="t-content t-c-w al">
                                                <span toggleId="payTypePhone">
                                                    <span class="span-money">
                                                        <span id="spanMipOrgAmt">0</span><span class="span-won">원</span>
                                                    </span>
                                                </span>
                                                <span toggleId="payTypePhone" class="disp-n">
                                                    <input type="text" id="mipPrcpAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>    
                        <td class="border-n padd-n" colspan="4">
                            <div>
                                <table class="i-table">
                                    <colgroup>
                                        <col width="86">
                                        <col width="114">
                                        <col width="86">
                                        <col width="114">
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <td class="t-label t-l-w">기본정책</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyBasAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">구두정책</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyVebAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="t-label t-l-w">추가정책</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyAddAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">딜러정책</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyDlrAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="t-label t-l-w">그룹정책</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyGrpAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                            <td class="t-label t-l-w">그레이드</td>
                                            <td class="t-content t-c-w al">
                                                <span>
                                                    <input type="text" id="rbPcyGrdAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>    
                    </tr>
                    <tr>
                        <td class="t-white al" colspan="8">
                            <div style="font-size: 11px; color: #1ab394;">-공시/선택=클릭 시 변경</div>
                            <span toggleId="payTypePhone">
                                <div class="div-desc">-할부원금=입고가-(공시지원/추가지원/포인트/세이브카드/선납금)</div>
                            </span>
                            <span toggleId="payTypePhone" class="disp-n">
                                <div class="div-desc">&nbsp;</div>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">개통종류</td>
                        <td class="t-content t-c-w ar">
                            <span>
                                <select id="openType" name="openType" class="form-control form-box" formType="comSel" grpCd="G0006">
                                </select>
                            </span>
                        </td>
                        <td class="t-label t-l-w">해지일</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divCloseDt" formType="datePicker" class="input-group date" disabled>
                                        <span>
                                            <input id="closeDt" name="closeDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">가번호</td>
                        <td class="t-content t-c-w al" colspan="3">
                            <span style="width:50px" id="spanTempPhoneNo1">
                                <input type="text" id="tempPhoneNo1" name="tempPhoneNo1" formType="tel1" tabNext="tempPhoneNo2" class="form-control form-box" style="width: 50px; text-align: center;" value="" disabled>
                            </span>
                            <span>
                                <input type="text" id="tempPhoneNo2" name="tempPhoneNo2" formType="tel2" tabNext="tempPhoneNo3" class="form-control form-box" style="width: 70px; text-align: center;" value="" disabled>
                            </span>
                            <span>
                                <input type="text" id="tempPhoneNo3" name="tempPhoneNo3" formType="tel3" tabNext="tcType" class="form-control form-box" style="width: 70px; text-align: center;" value="" disabled>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">통신사약정</td>
                        <td class="t-content t-c-w">
                            <span style="text-align: right;">
                                <select class="form-control form-box" id="tcType" name="tcType" formType="comSel" grpCd="G0008">
                                </select>
                            </span>
                        </td>
                        <td class="t-label t-l-w">
                            <span>할부</span>
                        </td>
                        <td class="t-content t-c-w">
                            <span>
                                <span style="text-align: right;">
                                    <select class="form-control form-box" id="dcType" name="dcType" formType="comSel" grpCd="G0009" grpOpt="B">
                                    </select>
                                </span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">유심</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <select id="usimCustPayType" name="usimCustPayType" class="form-control form-box" style="width: 100%;" formType="comSel" grpCd="G0005" isSetNF="true" isDisabled="true" grpOpt="null">
                                </select>
                            </span>
                        </td>
                        <td class="t-label t-l-w">대납금액</td>
                        <td class="t-content t-c-w al">
                            <span class="span-money" class="disp-n">
                                <span id="spanUsimPbpAmt" value="0">0</span><span class="span-won">원</span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td id="tdAddTelecomCallPlan" value="+" class="t-label t-l-w">요금제<span>추가</span></td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="addTelecomCallPlanAmt" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-white t-c-w al" colspan="6">
                            <div style="font-size: 11px; color: #1ab394;">-요금제추가/요금제차감=클릭 시 변경</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">
                            <span style="display:inline-block;">
                                <span style="display: inline-block;">필수부가</span>
                                <span id="spanEasBtns" eas-area="multi-button" groupId="spanEasGrps" style="display: inline-block; vertical-align: middle;">
                                    <span eas-item="button-plus" style="padding-top: 1px; padding-bottom:1px;" class="disp-b">
                                        <i id="btnEasPlus" class="fa fa-plus-circle cur-p" style="color: #1ab394;"></i>
                                    </span>
                                    <span eas-item="button-minus" style="padding-top:1px; padding-bottom: 1px;" class="disp-n">
                                        <i id="btnEasMinus" class="fa fa-minus-circle cur-p" style="color: #b34d1a;"></i>
                                    </span>
                                </span>
                            </span>
                        </td>
                        <td class="t-content t-c-w al" colspan="7" width="714">
                            <span id="spanEasGrps" eas-area="multi-group" agentCd="" agentNm="">
                                <span eas-area="group" seqNo="1">
                                    <span eas-area="button">
                                        <button eas-item="button" class="form-btn form-btn-n" style="width: 70px;" type="button"><strong>서비스선택</strong></button>
                                    </span>
                                    <span eas-area="content">
                                        <span eas-item="content" name="easNm" formType="text-r" style="width: 300px" class="text-r" placeholder="서비스를 선택하세요." value=""></span>
                                    </span>
                                    <span eas-area="eas-amt-cap">
                                        <span eas-item="eas-amt-cap" style="width: 30px; display: inline-block; font-size: 11px; color: #717071; text-align: right;">금액</span>
                                    </span>
                                    <span eas-area="eas-amt">
                                        <input eas-item="eas-amt" type="text" name="easAmt" formType="currency" class="form-control form-box" style="width: 100px; text-align: right;" placeholder="0" value="" disabled>
                                    </span>
                                    <span eas-area="eas-currency">
                                        <span eas-item="eas-currency" style="font-size: 11px; color: #717071;">원</span>
                                    </span>
                                    <span eas-area="eas-keep-date-cap">
                                        <span eas-item="eas-keep-date-cap" style="width: 30px; display: inline-block; font-size: 11px; color: #717071; text-align: right;">유지</span>
                                    </span>
                                    <span eas-area="eas-keep-date" style="display: inline-block; vertical-align:middle;">
                                        <span class="form-group">
                                            <div formType="datePicker" eas-item="eas-keep-date-picker" class="input-group date" disabled>
                                                <span>
                                                    <input eas-item="eas-keep-date-field" name="easKeepDt" type="text" class="form-control form-box" placeholder="" style="width: 100px; text-align:center;" value="">
                                                </span>
                                                <span class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                </span>
                                            </div>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">환수서비스</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span id="spanDesGrp" des-area="group" agentCd="" agentNm="">
                                <span des-area="button">
                                    <button des-item="button" class="form-btn form-btn-n" style="width: 70px;" type="button"><strong>서비스선택</strong></button>
                                </span>
                                <span des-area="content">
                                    <span des-item="content" name="desNm" formType="text-r" style="width: 300px" class="text-r" placeholder="서비스를 선택하세요." value=""></span>
                                </span>
                                <span des-area="des-amt-cap">
                                    <span des-item="des-amt-cap" style="width: 30px; display: inline-block; font-size: 11px; color: #717071; text-align: right;">금액</span>
                                </span>
                                <span des-area="des-amt">
                                    <input des-item="des-amt" type="text" name="desAmt" formType="currency" class="form-control form-box" style="width: 100px; text-align: right;" placeholder="0" value="" disabled>
                                </span>
                                <span des-area="des-currency">
                                    <span des-item="des-currency" style="font-size: 11px; color: #717071;">원</span>
                                </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-white-line" colpan="8"></td>
                    </tr>
                    <!-- 할부의 경우 Start -->
                    <tr toggleId="payTypePhone">
                        <td class="t-label t-l-w"><span>할인금액</span></td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="dcAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">할인예정일</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divDcDt" formType="datePicker" class="input-group date" disabled>
                                        <span>
                                            <input id="dcDt" name="dcDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                        <td class="t-white" colspan="4"></td>
                    </tr>
                    <tr toggleId="payTypePhone">
                        <td class="t-label t-l-w">할인정보</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <input type="text" id="dcInfoMip" name="dcInfoMip" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <!-- 할부의 경우 End -->
                    <!-- 현금의 경우 Start -->
                    <tr toggleId="payTypePhone" class="disp-n">
                        <td class="t-label t-l-w"><span>할인금액</span></td>
                        <td class="t-content t-c-w al">
                            <span class="span-money">
                                <span id="dcByCashAmt">0</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">할인정보</td>
                        <td class="t-content t-c-w" colspan="5">
                            <span style="width: 100%; display: inline-block; vertical-align:middle;">
                                <span>
                                    <input type="text" id="dcInfoCash" name="dcInfoCash" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                                </span>
                            </span>
                        </td>
                    </tr>
                    <!-- 현금의 경우 End -->
                    <tr>
                        <td class="t-label t-l-w">기타할인</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="etcDcAmt" name="etcDcAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">기타정보</td>
                        <td class="t-content t-c-w al" colspan="5">
                            <span>
                                <input type="text" id="etcInfo" name="etcInfo" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">현금/카드</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="custPayAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">입금금액</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanDepositAmt">150,000</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">미수금</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="custUnpayAmt" name="custUnpayAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">예정기일</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divPlanDueDt" formType="datePicker" class="input-group date" disabled>
                                        <span>
                                            <input id="custUnpayDueDt" name="custUnpayDueDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w l2">판매마진</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanSaleMarginAmt">219,000</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w l2">세후마진</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanAftTaxMarginAmt">174,000</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w l2">세금</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanTaxAmt">12,000</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w l2">정산금액</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanBaAmt">237,000</span><span class="span-won">원</span>
                            </span>
                        </td>
                    </tr>
                    <!-- 개통 지불 방식 현금일 경우 노출 Start -->
                    <tr toggleId="payTypePhone" class="disp-n">
                        <td class="t-label t-l-w">대리점입금</td>
                        <td class="t-content t-c-w ar">
                            <span class="span-money">
                                <span id="spanAgentInAmt">259,500</span><span class="span-won">원</span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">입금예정일</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divAgentInDueDt" formType="datePicker" class="input-group date">
                                        <span>
                                            <input id="agentInDueDt" name="agentInDueDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                        <td class="t-white al" colspan="4">
                            <span>
                                <div formType="iChecks" class="i-checks">
                                    <label class="ckbox">
                                        <input type="checkbox" id="chkBaAmtByPay" name="chkBaAmtByPay">
                                        <i></i> <span style="color: #1ab394;">선택시 요금으로 정산</span>
                                    </label>
                                    <span style="font-size: 10px; color: #1ab394;">ex)PS블루골드,M&S,LG직영 개통 후 현금송금방식</span>
                                </div>
                            </span>
                        </td>
                    </tr>
                    <!-- 개통 지불 방식 현금일 경우 노출 End -->
                    <tr>
                        <td class="t-white al" colspan="8">
                            <div class="div-desc">-판매마진 = [기본,구두,추가,딜러,그룹,그레이드] + [요금정책,필수서비스,입금액] - [대납,환수서비스,할인금액,기타할인]</div>
                            <div class="div-desc">-세후마진 = [기본,구두,추가,딜러,그룹,그레이드] + [요금정책,필수서비스,입금액] - [대납,환수서비스,할인금액,기타할인] - 세금 %</div>
                            <div class="div-desc">-세금 = [기본,구두,추가,딜러,그룹,그레이드] + [요금정책,필수서비스,입금액] - [환수서비스] - 세금(거래처등록시 세금등록 가능하십니다)</div>
                            <div class="div-desc">-정산금액 = [기본,구두,추가,딜러,그룹,그레이드] + [요금정책,필수서비스,입금액] - [대납,환수서비스]</div>
                            <span toggleId="payTypePhone">
                                <div class="div-desc">&nbsp;</div>
                            </span>
                            <span toggleId="payTypePhone" class="disp-n">
                                <div class="div-desc">-대리점입금시 세금 = [기본,구두,추가,딜러,그룹,그레이드] + [요금정책,필수서비스] - [환수서비스] - 세금</div>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">고객납현금</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="custPayCashAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">카드</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="custPayCardAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">미수금</td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="custPayUnpayAmt" formType="currency" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">미수기일</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div id="divOutstndAmtDueDt" formType="datePicker" class="input-group date" disabled>
                                        <span>
                                            <input id="outstndAmtDueDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">처리대리점</td>
                        <td class="t-content t-c-w">
                            <span style="text-align: right;">
                                <select formType="agentSel" class="form-control form-box" id="custPayCashAgent" name="custPayCashAgent">
                                </select>
                            </span>
                        </td>
                        <td class="t-label t-l-w">처리정보</td>
                        <td class="t-content t-c-w al" colspan="5">
                            <span>
                                <input type="text" id="custPayCashInfo" name="custPayCashInfo" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-white al" colspan="8">
                            <div style="font-size: 11px; color: #717071;">-고객납입금/카드/미수금 = 판매마진에 영향을 주지 않습니다.(개통시 요금/기존할부금 정리시 작성하는란 입니다.)</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">미비서류</td>
                        <td class="t-content t-c-w al" colspan="5">
                            <span id="spanLodGrp" lod-area="group">
                                <span lod-area="button">
                                    <button lod-item="button" class="form-btn form-btn-n" style="width: 70px;" type="button"><strong>미비선택</strong></button>
                                </span>
                                <span lod-area="content">
                                    <span lod-item="content" id="lodNm" name="lodNm" formType="text-r" style="width: 260px" class="text-r" placeholder="미비서류를 선택하세요." value=""></span>
                                </span>
                                <span lod-area="due-date-cap">
                                    <span lod-item="due-date-cap" style="width: 50px; display: inline-block; font-size: 11px; color: #717071; text-align: right;">예정기일</span>
                                </span>
                                <span lod-area="due-date" style="display: inline-block; vertical-align:middle;">
                                    <span class="form-group">
                                        <div formType="datePicker" lod-item="due-date-picker" class="input-group date" disabled>
                                            <span>
                                                <input lod-item="due-date-field" id="lodDueDt" name="lodDueDt" type="text" class="form-control form-box" placeholder="" style="width: 90px; text-align:center;" value="">
                                            </span>
                                            <span class="input-group-addon">
                                                <i class="fa fa-calendar"></i>
                                            </span>
                                        </div>
                                    </span>
                                </span>
                            </span>
                        </td>
                        <td class="t-label t-l-w">현금증빙</td>
                        <td class="t-content t-c-w al">
                            <span style="display: inline-block; vertical-align:middle;">
                                <span class="form-group">
                                    <div formType="datePicker" class="input-group date">
                                        <span>
                                            <input id="cashEvidDt" name="cashEvidDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                        </span>
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </div>
                                </span>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">메모1</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <input type="text" id="lodMemo1" name="lodMemo1" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">메모2</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <input type="text" id="lodMemo2" name="lodMemo2" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">Secret 메모</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <input type="text" id="lodMemoSec" name="lodMemoSec" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">요금설계</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <input type="text" id="callPlanMemo" name="callPlanMemo" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">첨부</td>
                        <td class="t-content t-c-w al" colspan="7"></td>
                    </tr>
                    <tr>
                        <td class="t-white-line" colpan="8"></td>
                    </tr>
                    <tr>
                        <td class="t-label t-l-w">회수단말기</td>
                        <td class="t-content t-c-w al" colspan="7">
                            <span>
                                <div formType="iChecks" class="i-checks disp-ib">
                                    <label class="radio">
                                        <input type="radio" id="collectPhoneType10" name="collectPhoneType" value="10" style="position: absolute; opacity: 0;" checked>
                                        <span>없음</span>
                                    </label>
                                </div>
                                <div formType="iChecks" class="i-checks disp-ib">
                                    <label class="radio">
                                        <input type="radio" id="collectPhoneType20" name="collectPhoneType" value="20" style="position: absolute; opacity: 0;">
                                        <span>미반납</span>
                                    </label>
                                </div>
                                <div formType="iChecks" class="i-checks disp-ib">
                                    <label class="radio">
                                        <input type="radio" id="collectPhoneType30" name="collectPhoneType" value="30" style="position: absolute; opacity: 0;">
                                        <span>회수</span>
                                    </label>
                                </div>
                                <div formType="iChecks" class="i-checks disp-ib">
                                    <label class="radio">
                                        <input type="radio" id="collectPhoneType40" name="collectPhoneType" value="40" style="position: absolute; opacity: 0;">
                                        <span>미회수</span>
                                    </label>
                                </div>
                            </span>
                        </td>
                    </tr>
                    <tr id="trCollectPhoneInfo" class="disp-n">
                        <td class="t-label t-l-w">
                            <span>중고단말기</span>
                        </td>
                        <td class="t-content t-c-w">
                            <span>
                                <input type="text" id="usedPhoneNm" name="usedPhoneNm" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                        <td class="t-label t-l-w">
                            <span>일련번호</span>
                        </td>
                        <td class="t-content t-c-w">
                            <span>
                                <input type="text" id="usedPhoneSerialNo" name="usedPhoneSerialNo" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                            </span>
                        </td>
                        <td class="t-label t-l-w">
                            <span>환수금</span>
                        </td>
                        <td class="t-content t-c-w al">
                            <span>
                                <input type="text" id="usedPhoneBuyPrice" name="usedPhoneBuyPrice" formType="currency" tabNext="" class="form-control form-box" style="width: 90px; text-align: right;" placeholder="0" value=""> 원
                            </span>
                        </td>
                        <td class="t-label t-l-w">
                            <span>예정기일</span>
                        </td>
                        <td class="t-content t-c-w">
                            <span class="form-group">
                                <div id="usedPhonePlanDt" formType="datePicker" class="input-group date">
                                    <span>
                                        <input name="usedPhonePlanDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                    </span>
                                    <span class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="t-white-line" colspan="8">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="tabs-container">
        <ul id="ulTabHiJoinType" tabCode="10" class="nav nav-tabs">
            <li code="10" class="active"><a class="p-tab" data-toggle="tab" href="">기존결합</a></li>
            <li code="20" class="" url="{% url 'open:new_tab3' %}"><a class="p-tab" data-toggle="tab" href="">동시판매</a></li>
        </ul>
        <table id="tableHiJoinUse" class="t-table">
            <colgroup>
                <col width="86">
                <col width="514">
                <col width="86">
                <col width="114">
            </colgroup>
            <tbody>
                <tr>
                    <td class="t-green-line" style="min-height: 1px; background-color: #1ab394;" colspan="4"></td>
                    <td class="t-green-line" style="min-height: 1px; background-color: #1ab394;" colspan="4"></td>
                    <td class="t-green-line" style="min-height: 1px; background-color: #1ab394;" colspan="4"></td>
                    <td class="t-green-line" style="min-height: 1px; background-color: #1ab394;" colspan="4"></td>
                </tr>
                <tr id="trHiJoinUse">
                    <td class="t-label t-l-w">결합상품</td>
                    <td class="t-content t-c-w al">
                        <span>
                            <input type="text" id="hiJoinUseCcInfo" name="hiJoinUseCcInfo" class="form-control form-box" style="width: 100%; text-align: left;" value="">
                        </span>
                    </td>
                    <td class="t-label t-l-w">예정기일</td>
                    <td class="t-content t-c-w al">
                        <span style="display: inline-block; vertical-align:middle;">
                            <span class="form-group">
                                <div id="divHiJoinUseCcPlanDt" formType="datePicker" class="input-group date">
                                    <span>
                                        <input id="hiJoinUseCcPlanDt" name="hiJoinUseCcPlanDt" type="text" class="form-control form-box" style="width: 90px; text-align:center;" value="">
                                    </span>
                                    <span class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </span>
                        </span>
                    </td>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- 동시 판매 -->
        <div id="divHiJoinNew" telecomCd="" agentCd="" staffCd="" class="tab-content ibox-content tab"></div>
        <!-- 기존 결합 -->
    </div>
    <!-- 처리 버튼 -->
    <table id="tableExeButtonGrp" class="t-table">
        <colgroup>
            <col width="800">
        </colgroup>
        <tbody>
            <tr>
                <td class="t-white-line" colpan="8"></td>
            </tr>
            <tr>
                <td>
                    <button id="btnRegData" type="button" class="btn btn-primary" style="width: 120px;">등록</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<!-- 탭 본문 : 단말기 End -->
<!-- Javascript Include Start -->

<!-- Javascript Include End -->

<!-- Javascript Local Code Start -->
<script>
$(document).ready(function() {
    // 판매자 선택 변경 시
    $("#sellerNm").on("change", function() {
        var _this = $(this);
        var _divHiJoinNew = $("#divHiJoinNew");

        // 홈/인터넷 상품용 판매자 세팅
        _divHiJoinNew.attr("staffCd", _this.val());
    });

    // 단말기 간편입고 클릭시
    $("#quickInStockPhone").on("click", function(){
        $.gfCommonPopUp({
            popUrl: "/static/popup_32_01.html",
            width: "520"
        });
    });

    // 단말기 선택이 바뀌었을 경우
    $("#modelInfo").on("change", function(e, params) {

        var _modelInfoSelected = $("option:selected", "#modelInfo"); // 선택된 제품정보

        var prodCd       = $.n2s(_modelInfoSelected.attr("prodCd")); // 제품코드
        var telecomCd    = $.n2s(_modelInfoSelected.attr("telecomCd")); // 통신사코드
        var netType      = $.n2s(_modelInfoSelected.attr("netType")); // 망구분
        var phoneType    = $.n2s(_modelInfoSelected.attr("phoneType")); // 기기구분
        var serialNo     = $.n2s(_modelInfoSelected.attr("serialNo")); // 일련번호
        var color        = $.n2s(_modelInfoSelected.attr("color")); // Color
        var agentCd      = $.n2s(_modelInfoSelected.attr("agentCd")); // 대리점/딜러점 코드
        var agentNm      = $.n2s(_modelInfoSelected.attr("agentNm")); // 대리점/딜러점명
        var prodInDt     = $.n2s(_modelInfoSelected.attr("prodInDt")); // 단말기 입고일
        var prodInPrice  = $.n2s(_modelInfoSelected.attr("prodInPrice")); // 입고가

        // 값 세팅
        $("#spanSerialNo").html(serialNo);
        $("#spanColor").html(color);
        $("#spanAgentNm").html(agentNm);
        $("#spanProdInDt").html(prodInDt);

        // 입고가가 없을 경우
        if($.isEmpty(prodInPrice)){
            $("#spanProdInPrice").html("0");
            $("#spanDispProdInPrice").hide();
        } else {
            $("#spanProdInPrice").html(prodInPrice);
            $("#spanDispProdInPrice").show();
        }

        // 유심(개통가능한) 데이터 세팅하기
        $("#usimInfo").gfSetChosenData({
            dataKey: "GD_PROD_USIM",
            optGroup: "usimType",
            filters: {
                telecomCd : telecomCd
            }
        });

        // 요금제 데이터 세팅하기
        $("#telecomCallPlan").gfSetChosenData({
            dataKey: "GD_TELECOM_CALL_PLAN",
            optGroup: "planGrp",
            filters: {
                telecomCd : telecomCd,
                netType: netType,
                phoneType: phoneType
            }
        });

        // 변경된 요금제 데이터 세팅하기
        $("#telecomCallPlanChg").gfSetChosenData({
            dataKey: "GD_TELECOM_CALL_PLAN",
            optGroup: "planGrp",
            filters: {
                telecomCd : telecomCd,
                netType: netType,
                phoneType: phoneType
            }
        });

        // 필수 부가 서비스 리셋
        $("#spanEasGrps").resetEasGrp({
            multiButton: $("#spanEasBtns")
        });

        // 환수서비스란 초기화
        $("#spanDesGrp").gfInitDesGrp({
            beforeClickBtn: function() {
                // 단말기를 선택하지 않았을 경우
                if($.isEmpty($("#modelInfo").val())) {
                    $.gfNotiMsg("W00001");
                    return false;
                }
                return true;
            }
        });

        // 미비서류란 초기화
        $("#spanLodGrp").gfInitLodGrp({
            beforeClickBtn: function() {
                // 단말기를 선택하지 않았을 경우
                if($.isEmpty($("#modelInfo").val())) {
                    $.gfNotiMsg("W00001");
                    return false;
                }
                return true;
            }
        });

        // 필수부가서비스란 속성에 agentCd, agentNm 세팅
        $("#spanEasGrps").attr("agentCd", agentCd);
        $("#spanEasGrps").attr("agentNm", agentNm);

        // 환수서비스란 속성에 agentCd, agentNm 세팅
        $("#spanDesGrp").attr("agentCd", agentCd);
        $("#spanDesGrp").attr("agentNm", agentNm);

        // 홈/인터넷 동시판매 시 필요한 데이터 세팅
        $("#divHiJoinNew").attr("telecomCd", telecomCd);
        $("#divHiJoinNew").attr("agentCd", agentCd);

        $.initHiJoin();
    });

    // 유심 선택이 바뀌었을 경우
    $("#usimInfo").on("change", function(e, params) {

        var _usimInfoSelected = $("option:selected", "#usimInfo"); // 선택된 유심정보

        var prodCd       = $.n2s(_usimInfoSelected.attr("prodCd")); // 유심제품코드
        var telecomCd    = $.n2s(_usimInfoSelected.attr("telecomCd")); // 통신사코드
        var usimType     = $.n2s(_usimInfoSelected.attr("usimType")); // 유심종류(나노, 일반)
        var usimModelCd  = $.n2s(_usimInfoSelected.attr("usimModelCd")); // 유심모델코드
        var serialNo     = $.n2s(_usimInfoSelected.attr("serialNo")); // 일련번호
        var agentCd      = $.n2s(_usimInfoSelected.attr("agentCd")); // 대리점/딜러점명
        var agentNm      = $.n2s(_usimInfoSelected.attr("agentNm")); // 대리점/딜러점명
        var prodInDt     = $.n2s(_usimInfoSelected.attr("prodInDt")); // 유심 입고일
        var prodInPrice  = $.n2s(_usimInfoSelected.attr("prodInPrice")); // 입고가
        var payType      = $.n2s(_usimInfoSelected.attr("payType")); // 입고가

        // 값 세팅
        $("#spanUsimSerialNo").html(serialNo);
        $("#spanUsimAgentNm").html(agentNm);
        $("#spanUsimInDt").html(prodInDt);

        // 입고가가 없을 경우
        if($.isEmpty(prodInPrice)){
            $("#spanUsimInPrice").html("0");
            $("#spanUsimPbpAmt").html("0"); // 유심대납금액
            $("#spanUsimPbpAmt").attr("value", "0"); // 유심대납금액
            $("#spanDispUsimInPrice").hide();
        } else {
            $("#spanUsimInPrice").html(prodInPrice);
            // 유심고객지불방법이 대납(B)일 경우만 세팅
            $("#spanUsimPbpAmt").html($("#usimCustPayType").val() == "B" ? prodInPrice : "0"); // 유심대납금액
            $("#spanUsimPbpAmt").attr("value", prodInPrice); // 유심대납금액
            $("#spanDispUsimInPrice").show();
        }

        // 유심 입고 지불 방식 세팅
        var isUsimNull = $.isEmpty(prodCd) ? true : false;
        $("#usimInPayType").gfSetComCd2ComboBox({
            grpCd : "G0004",
            isSetNF : isUsimNull,
            useYn : "Y",
            setValue : isUsimNull ? "" : payType,
            isDisabled : isUsimNull
        });

        // 유심 고객 지불 방식 세팅
        $("#usimCustPayType").gfSetComCd2ComboBox({
            grpCd : "G0005",
            isSetNF : isUsimNull ? true : false,
            useYn : "Y",
            setValue : "",
            isDisabled : isUsimNull,
            grpOpt : isUsimNull ? null : "B"
        });
    });

    // 요금제 선택이 바뀌었을 경우
    $("#telecomCallPlan").on("change", function(e, params) {
        var _sptAmt = $("#sptAmt");
        var spanSptAmtType = $.n2s($("#spanSptAmtType").attr("value"));

        var prodCd = $.n2s($("option:selected", "#modelInfo").attr("prodCd"));
        var planCd = $.n2s($("option:selected", "#telecomCallPlan").attr("planCd"));

        // 유지일 세팅
        if($.isEmpty(planCd)) {
            $("#divKeepDt").gfDisabledDatePicker(true);
        } else {
            $("#divKeepDt").gfDisabledDatePicker(false);
        }

        // 단말기 & 요금제별 공시지원금 구하기
        var sptAmt = $.gfGetSptAmt({
                         prodCd : prodCd,
                         planCd  : planCd
                     });

        // 공시지원 선택했을 경우 처리
        if(spanSptAmtType === "N") {
            // 값 세팅
            _sptAmt.val(sptAmt);
        }
    });

    // 변경예정 요금제 선택이 바뀌었을 경우
    $("#telecomCallPlanChg").on("change", function(e, params) {

        var planCd = $.n2s($("option:selected", "#telecomCallPlanChg").attr("planCd"));

        // 메모 세팅
        if($.isEmpty(planCd)) {
            $("#chgComment").val("");
            $("#chgComment").prop("disabled", true);
        } else {
            $("#chgComment").prop("disabled", false);
        }
    });

    // 공시/선택을 클릭 시 이벤트 처리
    $("#spanSptAmtType").on('click', function(e, params) {
        var _this = $(this);
        var _span = _this.children("span").first();
        var val   = _this.attr("value");

        // 공시(지원)금일 경우 => 선택으로 변경
        if(val == "N") {
            _this.html("선택");
            _this.attr("value", "S");
            _this.removeClass("l3").addClass("l4");
            $("#sptAmt").val("");
            $("#sptAmt").prop("disabled", true);
            $("#addSptAmt").val("");
            $("#addSptAmt").prop("disabled", true);
        } else {
            _this.html("공시");
            _this.attr("value", "N");
            _this.removeClass("l4").addClass("l3");

            var prodCd = $("option:selected", "#modelInfo").attr("prodCd");
            var planCd = $("option:selected", "#telecomCallPlan").attr("planCd");
            var sptAmt = $.gfGetSptAmt({
                             prodCd : prodCd,
                             planCd : planCd
                         });

            $("#sptAmt").val(sptAmt);
            $("#sptAmt").prop("disabled", false);
            $("#addSptAmt").prop("disabled", false);
        }
    });

    // 등록 버튼을 클릭했을 경우
    $("#btnRegData").on("click", function(e, params) {
        // http://t4t5.github.io/sweetalert/
        swal({
            title: "등록하시겠습니까?",
            text: "",
//            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#1ab394",
            confirmButtonText: "확인",
            cancelButtonText: "취소",
            closeOnConfirm: false
        }, function () {
            swal("등록되었습니다!", "", "success");
        });
    });

    // 유심 고객 지불방법에 따른 처리(미구매, 완납, 대납, 후납)
    $("#usimCustPayType").on("change", function(e, params) {
        var _this = $(this);
        var _spanUsimPbpAmt = $("#spanUsimPbpAmt");
        var usimCustPayType = _this.val();
        var usimPbpAmt = _spanUsimPbpAmt.attr("value");

        if($.inArray(usimCustPayType, ["B"]) > -1) { // 대납일 경우
            _spanUsimPbpAmt.html(usimPbpAmt);
        } else { // 그 외
            _spanUsimPbpAmt.html("0");
        }
    });

    // 개통종류에 따른 처리(신규, MNP, 기변보상)
    $("#openType").on("change", function(e, params) {
        var _this = $(this);
        var _closeDt = $("#closeDt"); // 해지일
        var _tempPhoneNo1 = $("#tempPhoneNo1"); // 가번호(지역번호)
        var _tempPhoneNo2 = $("#tempPhoneNo2"); // 가번호(국번호)
        var _tempPhoneNo3 = $("#tempPhoneNo3"); // 가번호(전화번호)

        var openType = _this.val();
        if($.inArray(openType, ["1", "2", "3"]) > -1) { // 신규(1), MNP(2), 보상기변(3)
            $("#divCloseDt").gfDisabledDatePicker(true);
            $("#closeDt").val("");
            $("#tempPhoneNo1").val("");
            $("#tempPhoneNo2, #tempPhoneNo3").val("");
            $("#tempPhoneNo2, #tempPhoneNo3").prop("disabled", true);
        } else if($.inArray(openType, ["4"]) > -1) { // 에이징(4)
            $("#divCloseDt").gfDisabledDatePicker(false);
            $("#tempPhoneNo1").val("010");
            $("#tempPhoneNo2, #tempPhoneNo3").prop("disabled", false);
        } else if(($.inArray(openType, ["5", "6"]) > -1)) { // 가개통(5), 선불(6)
            $("#tempPhoneNo1").val("");
            $("#closeDt").val("");
            $("#divCloseDt").gfDisabledDatePicker(false);
            $("#tempPhoneNo2, #tempPhoneNo3").val("");
            $("#tempPhoneNo2, #tempPhoneNo3").prop("disabled", true);
        }
    });

    // 할인금액 keyup이벤트
    $("#dcAmt").on("keyup", function(e, params) {
        var _this = $(this);
        var _divDcDt = $("#divDcDt");
        var _dcDt = $("#dcDt");
        var dcAmt = _this.val();

        if(!$.isEmpty(dcAmt) && dcAmt != 0) { // 할인금액이 있을 경우
            _divDcDt.gfDisabledDatePicker(false);
        } else { // 할인금액이 없을 경우
            _divDcDt.gfDisabledDatePicker(true);
            _dcDt.val("");
        }
    });

    // 할인정보 미수금 keyup 이벤트
    $("#custUnpayAmt").on("keyup", function(e, params) {
        var _this = $(this);
        var _divPlanDueDt = $("#divPlanDueDt");
        var _custUnpayDueDt = $("#custUnpayDueDt");
        var custUnpayAmt = _this.val();

        if(!$.isEmpty(custUnpayAmt) && custUnpayAmt != 0) { // 미수금이 있을 경우
            _divPlanDueDt.gfDisabledDatePicker(false);
        } else { // 미수금이 없을 경우
            _divPlanDueDt.gfDisabledDatePicker(true);
            _custUnpayDueDt.val("");
        }
    });

    // 고객납입 미수금 keyup 이벤트
    $("#custPayUnpayAmt").on("keyup", function(e, params) {
        var _this = $(this);
        var _divOutstndAmtDueDt = $("#divOutstndAmtDueDt");
        var _outstndAmtDueDt = $("#outstndAmtDueDt");
        var custPayUnpayAmt = _this.val();

        if(!$.isEmpty(custPayUnpayAmt) && custPayUnpayAmt != 0) { // 미수금이 있을 경우
            _divOutstndAmtDueDt.gfDisabledDatePicker(false);
        } else { // 미수금이 없을 경우
            _divOutstndAmtDueDt.gfDisabledDatePicker(true);
            _outstndAmtDueDt.val("");
        }
    });

    // 단말기 > 단말기개통지불방식(할부/현금) 탭 클릭 이벤트
    $("#ulTabPayType li").on("click", function(e, params) {
        var _tab = $(this);
        var _tabGroup = _tab.parent();
        var tabCode = _tabGroup.attr("tabCode");
        var code = _tab.attr("code"); // 할부:10, 현금:20

        // 단말기 개통지불방식에 따른 세팅
        if(tabCode != code) {

            $("[toggleId='payTypePhone']").toggle(); // display 변경(할부/현금)

            // 할부란 콤보박스 세팅
            $("#dcType").gfSetComCd2ComboBox({
                grpCd : "G0009",
                isSetNF : code == "20" ? true : false,
                useYn : "Y",
//              setValue : dcType,
                isDisabled : code == "20" ? true : false,
                grpOpt: code == "20" ? null : "B"
            });

            _tabGroup.attr("tabCode", code);
        }
    });

    // 필수부가 서비스(eas:EssentialAddedService)  란 추가(+) 버튼 클릭 이벤트
    $("#btnEasPlus").on("click", function(e, params) {
        var _this             = $(this);
        var _multiButton      = _this.closest("[eas-area='multi-button']"); // +/- 버튼 영역
        var _multiButtonPlus  = _multiButton.children("[eas-item='button-plus']"); // +버튼
        var _multiButtonMinus = _multiButton.children("[eas-item='button-minus']"); // -버튼
        var _multiGroup       = $("#" + _multiButton.attr("groupId")); // 필수부가 서비스 그룹 묶음(multi)
        var _easGrps          = _multiGroup.children("[eas-area='group']"); // 각 그룹

        var countEasGrp       = _easGrps.length; // 그룹 개수

        // 추가 가능할 경우 만
        if(countEasGrp < 5) {

            // 단말기를 선택하지 않았을 경우
            if($.isEmpty($("#modelInfo").val())) {
                $.gfNotiMsg("W00001");
                return false;
            }

            // 첫번째 서비스 그룹을 복제한다
            var _addTarget = _easGrps.first().clone(false);

            // 추가된 필수부가서비스의 초기화처리
            _addTarget.gfInitEasGrp({
                beforeClickBtn: function() {
                    // 단말기를 선택하지 않았을 경우
                    if($.isEmpty($("#modelInfo").val())) {
                        $.gfNotiMsg("W00001");
                        return false;
                    }
                    return true;
                }
            });

            // 그룹 속성에 seqNo 세팅
            _addTarget.attr("seqNo", countEasGrp + 1);

            // 그룹에 추가
            _addTarget.appendTo(_multiGroup);

            // 필수부가서비스 갯수가 1보다 클 경우 (-)버튼 보이기
            if(countEasGrp >= 1) {
                _multiButtonMinus.removeClass("disp-n").addClass("disp-b");
            }
        }
    });

    // 필수부가 서비스(eas:EssentialAddedService)  란 제거(-) 버튼 클릭 이벤트
    $("#btnEasMinus").on("click", function(e, params) {
        var _this             = $(this);
        var _multiButton      = _this.closest("[eas-area='multi-button']"); // +/- 버튼 영역
        var _multiButtonPlus  = _multiButton.children("[eas-item='button-plus']"); // +버튼
        var _multiButtonMinus = _multiButton.children("[eas-item='button-minus']"); // -버튼
        var _multiGroup       = $("#" + _multiButton.attr("groupId")); // 필수부가 서비스 그룹 묶음(multi)
        var _easGrps          = _multiGroup.children("[eas-area='group']"); // 각 그룹

        var countEasGrp       = _easGrps.length; // 그룹 개수

        // 마지막 서비스란을 제거한다
        _easGrps.last().remove();

        // 필수부가서비스 갯수가 2개 이하 일 경우 (-)버튼 보이지 않기
        if(countEasGrp <= 2) {
            _multiButtonMinus.removeClass("disp-b").addClass("disp-n");
        }
    });

    // 회수 단말기 선택 변경시 처리
    $("input[type='radio'][name='collectPhoneType']").on("ifClicked", function(e, params) {
        var _this = $(this);
        var collectPhoneType = _this.val();
        var _trCollectPhoneInfo = $("#trCollectPhoneInfo");

        var isDisplayUsedPhone        = true; // 회수단말기 상세내용 노출 여부
        var disabledUsedPhoneNm       = true; // 중고단말기란
        var disabledUsedPhoneSerialNo = true; // 일련번호란
        var disabledUsedPhoneBuyPrice = true; // 환수금란
        var disabledUsedPhonePlanDt   = true; // 예정기일란
        var _focusObj                  = null;

        if(collectPhoneType == "10") { // 없음일 경우(10)
            isDisplayUsedPhone        = false;
            disabledUsedPhoneNm       = true;
            disabledUsedPhoneSerialNo = true;
            disabledUsedPhoneBuyPrice = true;
            disabledUsedPhonePlanDt   = true;
        } else if(collectPhoneType == "20") { // 미반납일 경우(20)
            isDisplayUsedPhone        = true;
            disabledUsedPhoneNm       = true;
            disabledUsedPhoneSerialNo = true;
            disabledUsedPhoneBuyPrice = false;
            disabledUsedPhonePlanDt   = true;
            _focusObj                 = $("#usedPhoneBuyPrice");
        } else if(collectPhoneType == "30") { // 회수일 경우(30)
            isDisplayUsedPhone        = true;
            disabledUsedPhoneNm       = false;
            disabledUsedPhoneSerialNo = false;
            disabledUsedPhoneBuyPrice = true;
            disabledUsedPhonePlanDt   = true;
            _focusObj                 = $("#usedPhoneNm");
        } else if(collectPhoneType == "40") { // 미회수일 경우(40)
            isDisplayUsedPhone        = true;
            disabledUsedPhoneNm       = false;
            disabledUsedPhoneSerialNo = false;
            disabledUsedPhoneBuyPrice = true;
            disabledUsedPhonePlanDt   = false;
            _focusObj                 = $("#usedPhoneNm");
        }

        // 회수단말기 상세내용 노출 설정
        if(isDisplayUsedPhone) _trCollectPhoneInfo.removeClass("disp-n");
        else _trCollectPhoneInfo.addClass("disp-n");

        // 중고단말기란 Disabled 설정
        $("#usedPhoneNm").prop("disabled", disabledUsedPhoneNm);

        // 일련번호란 Disabled 설정
        $("#usedPhoneSerialNo").prop("disabled", disabledUsedPhoneSerialNo);

        // 환수금란 Disabled 설정
        $("#usedPhoneBuyPrice").prop("disabled", disabledUsedPhoneBuyPrice);

        // 예정기일란 Disabled 설정
        $("#usedPhonePlanDt").gfDisabledDatePicker(disabledUsedPhonePlanDt);

        // Focus처리
        if(!$.isEmpty(_focusObj)) _focusObj.trigger("focus");
    });

    // 홈/인터넷 결합상품(기존결합/동시판매) 탭 클릭 이벤트
    $("#ulTabHiJoinType li").on("click", function(e, params) {

        var _tab            = $(this);
        var _tabGroup       = _tab.parent();
        var _modelInfo      = $("#modelInfo"); // 단말기 정보
        var _trHiJoinUse    = $("#trHiJoinUse"); // 결합판매 컨탠츠 대상
        var _divTabContents = $("#divHiJoinNew"); // 동시판매 컨탠츠 대상

        var tabCode         = _tabGroup.attr("tabCode");
        var url             = _tab.attr("url"); // tab Contents 주소
        var code            = _tab.attr("code"); // 기존결합:10, 동시판매:20

        // 홈/인터넷 결합에 따른 세팅
        if(tabCode != code) {
            // 기존결합(10) 일경우
            if(code == "10") {
                _trHiJoinUse.show();
                _divTabContents.empty();
            } else if(code == "20") {

                // 단말기를 선택하지 않았을 경우
                if($.isEmpty(_modelInfo.val())) {
                    $.gfNotiMsg("W00001");
                    return false;
                }

                _trHiJoinUse.hide();

                // 홈/인터넷 컨텐츠 로딩
                $.gfLoadContents({
                    url: url,
                    target: _divTabContents
                });
            }

            _tabGroup.attr("tabCode", code);
        }
    });

    // 일반 form 객체 초기화
    $.gfInitFormField();

    // 요금제 추가/차감 입력시 처리
    $("#addTelecomCallPlanAmt").on("keyup change input", function(e, params) {
        var _this = $(this);
        var _tdAddTelecomCallPlan = $("#tdAddTelecomCallPlan");
        var addTelecomCallPlanAmt = _this.val();

        // -일경우
        if(addTelecomCallPlanAmt.indexOf("-") > -1) {
            _tdAddTelecomCallPlan.addClass("l2");
            _tdAddTelecomCallPlan.children("span").html("차감");
        } else {
            _tdAddTelecomCallPlan.removeClass("l2");
            _tdAddTelecomCallPlan.children("span").html("추가");
        }
        return true;
    });
});

/*
 * 필수부가 서비스 리셋
 */
$.fn.resetEasGrp = function(opts) {
    var _multiGroup  = this;
    var _multiButton = opts.multiButton;

    // +/- 버튼 처리
    if(!$.isEmpty(_multiButton)) {
        // 필수 부가 서비스 (-)버튼을 숨김
        _multiButton.children("[eas-item='button-minus']").removeClass("disp-b").addClass("disp-n");
    }

    // 필수 부가 서비스 선택을 1개만 남기고 제거
    _multiGroup.children("[eas-area='group']:nth-child(n + 2)").remove();

    // 첫번째 서비스란 초기화
    _multiGroup.children("[eas-area='group']").first().gfInitEasGrp({
        beforeClickBtn: function() {
            // 단말기를 선택하지 않았을 경우
            if($.isEmpty($("#modelInfo").val())) {
                $.gfNotiMsg("W00001");
                return false;
            }
            return true;
        }
    });
};

/*
 * 홈/인터넷 상품란 초기화
 */
$.initHiJoin = function(opts) {
    $("#ulTabHiJoinType li[code='10'] a").trigger("click");
}


</script>
<!-- Javascript Local Code End -->



